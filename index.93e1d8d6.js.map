{"mappings":"AAAA,MACMA,EAA2B,CAC/BC,KAAM,UACNC,UAAW,QACXC,UAAW,KACXC,QAAS,6BACTC,QAAS,GACTC,KAAM,IAOFC,OAHcC,IAAlBC,OAAOC,aAAkDF,IAA1BC,OAAOC,OAAOC,QAI3CF,OAAOC,OAAOC,QAAQC,MACtB,CACEC,IAAMC,GAAMd,EACZe,IAAMD,OCjBNE,EACE,kEADFA,EAEO,uDAFPA,EAGO,4DAHPA,EAIK,2DAJLA,EAMF,kGCIEC,EAAYC,IAChBC,SAASC,eALU,aAKmBC,UAAYH,EAAaZ,KAC/Da,SAASC,eAVU,aAUmBC,UAAYH,EAAajB,KAC/DkB,SAASC,eAVe,aAUmBC,UAAYH,EAAahB,UACpEiB,SAASC,eAVe,kBAUmBC,UAAYH,EAAaf,UACpEgB,SAASC,eAVa,gBAUmBE,UAAYJ,EAAad,QAClEe,SAASC,eATa,gBASmBE,UAAYJ,EAAab,wBAGrDkB,IACb,MAAMC,OFAmBC,UAClB,IAAIC,SAASC,IAClBpB,EAAQM,IAAI,CAvBmB,+BAuBYe,SACEpB,IAAvCoB,EAAiC,2BACnCD,EAAQ3B,GAER2B,EAAQE,KAAKC,MAAMF,EAAiC,mCENzBG,GAC3BC,GAAa,IAAIC,MAAOC,eAE1BV,EAAmBlB,OAAS0B,EDdbP,WACnB,MAAMU,EAAsB,IAAIC,QAXN,mDAYpBC,QAAiBC,MAAMH,GACvBI,QAAqBF,EAASG,OAEpC,IACIC,GADS,IAAIC,WACAC,gBAAgBJ,EAAc,aAE/C,MAAMK,EAAqBC,GAClBJ,EAAIK,cAAcD,GAAOvB,UAOlC,MAAO,CACLrB,KAAM2C,EAAkB5B,GACxBd,UAAW0C,EAAkB5B,GAC7Bb,UAAWyC,EAAkB5B,GAC7BZ,QAASwC,EAAkB5B,GAC3BX,QAASuC,EAAkB5B,GAC3BV,MAAM,IAAI2B,MAAOC,iBCHnBa,GACGC,MAAM9B,IACLD,EAASC,GFEYO,OAAUP,IACnCR,OAAOC,QAAQC,MAAMG,IAAI,CAAEkC,2BAA4B/B,KEFnDgC,CAAsBrB,KAAKsB,UAAUjC,OAEtCkC,OAAK,KACJ5B,EAAmBlB,KA1BR,WA2BXW,EAASO,MAXXP,EAASO,GAebf,OAAO4C,OAAM,KACX9B","sources":["src/storage.js","src/wordy.js","src/script.js"],"sourcesContent":["const RECENT_WORD_OF_THE_DAY_KEY = 'RECENT_WORD_OF_THE_DAY_KEY'\nconst FALLBACK_WORD_OF_THE_DAY = {\n  word: 'Offline',\n  attribute: 'Error',\n  syllables: 'ðŸ’­',\n  meaning: 'You are currently offline.',\n  example: '',\n  date: '',\n}\n\nconst isChromeStorageAvailable =\n  window.chrome !== undefined && window.chrome.storage !== undefined\n// Chrome object is not completely available on websites.\n// Fallback storage if chrome is not available.\nconst storage = isChromeStorageAvailable\n  ? window.chrome.storage.local\n  : {\n      get: (_) => FALLBACK_WORD_OF_THE_DAY,\n      set: (_) => {},\n    }\n\nconst getRecentWordOfTheDay = async () => {\n  return new Promise((resolve) => {\n    storage.get([RECENT_WORD_OF_THE_DAY_KEY], (result) => {\n      if (result[RECENT_WORD_OF_THE_DAY_KEY] === undefined) {\n        resolve(FALLBACK_WORD_OF_THE_DAY)\n      } else {\n        resolve(JSON.parse(result[RECENT_WORD_OF_THE_DAY_KEY]))\n      }\n    })\n  })\n}\n\nconst setRecentWordOfTheDay = async (wordOfTheDay) => {\n  chrome.storage.local.set({ RECENT_WORD_OF_THE_DAY_KEY: wordOfTheDay })\n}\n\nexport { getRecentWordOfTheDay, setRecentWordOfTheDay }\n","const WORD_OF_THE_DAY_URL = 'https://www.merriam-webster.com/word-of-the-day'\nconst WORD_OF_THE_DAY_QUERY = {\n  word: 'div.quick-def-box div.word-header div.word-and-pronunciation h1',\n  attribute: 'div.quick-def-box div.word-attributes span.main-attr',\n  syllables: 'div.quick-def-box div.word-attributes span.word-syllables',\n  meaning: 'div.wod-article-container div.wod-definition-container p',\n  example:\n    'div.wod-article-container div.wod-definition-container div.wotd-examples div.left-content-box p',\n}\n\nconst getWordOfTheDay = async () => {\n  const wordOfTheDayRequest = new Request(WORD_OF_THE_DAY_URL)\n  const response = await fetch(wordOfTheDayRequest)\n  const responseText = await response.text()\n\n  let parser = new DOMParser()\n  let doc = parser.parseFromString(responseText, 'text/html')\n\n  const innerTextForQuery = (query) => {\n    return doc.querySelector(query).innerHTML\n  }\n\n  const htmlForQuery = (query) => {\n    return doc.querySelector(query)\n  }\n\n  return {\n    word: innerTextForQuery(WORD_OF_THE_DAY_QUERY.word),\n    attribute: innerTextForQuery(WORD_OF_THE_DAY_QUERY.attribute),\n    syllables: innerTextForQuery(WORD_OF_THE_DAY_QUERY.syllables),\n    meaning: innerTextForQuery(WORD_OF_THE_DAY_QUERY.meaning), // TODO: Get the complete meaning\n    example: innerTextForQuery(WORD_OF_THE_DAY_QUERY.example),\n    date: new Date().toDateString(),\n  }\n}\n\nexport { getWordOfTheDay }\n","import { getRecentWordOfTheDay, setRecentWordOfTheDay } from './storage'\nimport { getWordOfTheDay } from './wordy'\n\nconst WORD_MAIN_ID = 'word-main'\nconst WORD_ATTRIBUTE_ID = 'word-attr'\nconst WORD_SYLLABLES_ID = 'word-syllables'\nconst WORD_MEANING_ID = 'word-meaning'\nconst WORD_DATE_ID = 'word-date'\nconst WORD_EXAMPLE_ID = 'word-example'\nconst ARCHIVED = 'Archived'\n\nconst updateUI = (wordOfTheDay) => {\n  document.getElementById(WORD_DATE_ID).innerText = wordOfTheDay.date\n  document.getElementById(WORD_MAIN_ID).innerText = wordOfTheDay.word\n  document.getElementById(WORD_ATTRIBUTE_ID).innerText = wordOfTheDay.attribute\n  document.getElementById(WORD_SYLLABLES_ID).innerText = wordOfTheDay.syllables\n  document.getElementById(WORD_MEANING_ID).innerHTML = wordOfTheDay.meaning\n  document.getElementById(WORD_EXAMPLE_ID).innerHTML = wordOfTheDay.example\n}\n\nasync function onLoad() {\n  const recentWordOfTheDay = await getRecentWordOfTheDay()\n  const todaysDate = new Date().toDateString()\n\n  if (recentWordOfTheDay.date === todaysDate) {\n    updateUI(recentWordOfTheDay)\n    return\n  }\n\n  getWordOfTheDay()\n    .then((wordOfTheDay) => {\n      updateUI(wordOfTheDay)\n      setRecentWordOfTheDay(JSON.stringify(wordOfTheDay))\n    })\n    .catch(() => {\n      recentWordOfTheDay.date = ARCHIVED\n      updateUI(recentWordOfTheDay)\n    })\n}\n\nwindow.onload = () => {\n  onLoad()\n}\n"],"names":["$744d2dad838f829a$var$FALLBACK_WORD_OF_THE_DAY","word","attribute","syllables","meaning","example","date","$744d2dad838f829a$var$storage","undefined","window","chrome","storage","local","get","_","set","$6e7b0d9c13914567$var$WORD_OF_THE_DAY_QUERY","$b63be9b0371e788c$var$updateUI","wordOfTheDay","document","getElementById","innerText","innerHTML","$b63be9b0371e788c$var$onLoad","recentWordOfTheDay","async","Promise","resolve","result","JSON","parse","$744d2dad838f829a$export$528472e185c1779","todaysDate","Date","toDateString","wordOfTheDayRequest","Request","response","fetch","responseText","text","doc","DOMParser","parseFromString","innerTextForQuery","query","querySelector","$6e7b0d9c13914567$export$ca7de21e1bdca6bf","then","RECENT_WORD_OF_THE_DAY_KEY","$744d2dad838f829a$export$353ffa70213ed54e","stringify","catch","onload"],"version":3,"file":"index.93e1d8d6.js.map"}