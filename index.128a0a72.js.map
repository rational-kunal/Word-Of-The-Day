{"mappings":"AAAA,MACMA,EAA2B,CAC/BC,KAAM,UACNC,UAAW,QACXC,UAAW,KACXC,QAAS,6BACTC,QAAS,GACTC,KAAM,ICNFC,EACE,kEADFA,EAEO,uDAFPA,EAGO,4DAHPA,EAIK,2DAJLA,EAMF,kGCIEC,EAAYC,IAChBC,SAASC,eALU,aAKmBC,UAAYH,EAAaH,KAC/DI,SAASC,eAVU,aAUmBC,UAAYH,EAAaR,KAC/DS,SAASC,eAVe,aAUmBC,UAAYH,EAAaP,UACpEQ,SAASC,eAVe,kBAUmBC,UAAYH,EAAaN,UACpEO,SAASC,eAVa,gBAUmBE,UAAYJ,EAAaL,QAClEM,SAASC,eATa,gBASmBE,UAAYJ,EAAaJ,2BAIlE,MAAMS,OFXmBC,UAClB,IAAIC,SAASC,IAClBC,OAAOC,QAAQC,MAAMC,IAAI,CAZM,+BAYyBC,SACXC,IAAvCD,EAAiC,2BACnCL,EAAQjB,GAERiB,EAAQO,KAAKC,MAAMH,EAAiC,mCEKzBI,GAC3BC,GAAa,IAAIC,MAAOC,eAE1Bf,EAAmBR,OAASqB,EDdbZ,WACnB,MAAMe,EAAsB,IAAIC,QAXN,mDAYpBC,QAAiBC,MAAMH,GACvBI,QAAqBF,EAASG,OAEpC,IACIC,GADS,IAAIC,WACAC,gBAAgBJ,EAAc,aAE/C,MAAMK,EAAqBC,GAClBJ,EAAIK,cAAcD,GAAO3B,UAOlC,MAAO,CACLZ,KAAMsC,EAAkBhC,GACxBL,UAAWqC,EAAkBhC,GAC7BJ,UAAWoC,EAAkBhC,GAC7BH,QAASmC,EAAkBhC,GAC3BF,QAASkC,EAAkBhC,GAC3BD,MAAM,IAAIsB,MAAOC,iBCHnBa,GACGC,MAAMlC,IACLD,EAASC,GFTYM,OAAUN,IACnCS,OAAOC,QAAQC,MAAMwB,IAAI,CAAEC,2BAA4BpC,KESnDqC,CAAsBtB,KAAKuB,UAAUtC,OAEtCuC,OAAK,KACJlC,EAAmBR,KA1BR,WA2BXE,EAASM,MAXXN,EAASM,GAebmC","sources":["src/storage.js","src/wordy.js","src/script.js"],"sourcesContent":["const RECENT_WORD_OF_THE_DAY_KEY = 'RECENT_WORD_OF_THE_DAY_KEY'\nconst FALLBACK_WORD_OF_THE_DAY = {\n  word: 'Offline',\n  attribute: 'Error',\n  syllables: 'ðŸ’­',\n  meaning: 'You are currently offline.',\n  example: '',\n  date: '',\n}\n\nconst getRecentWordOfTheDay = async () => {\n  return new Promise((resolve) => {\n    chrome.storage.local.get([RECENT_WORD_OF_THE_DAY_KEY], (result) => {\n      if (result[RECENT_WORD_OF_THE_DAY_KEY] === undefined) {\n        resolve(FALLBACK_WORD_OF_THE_DAY)\n      } else {\n        resolve(JSON.parse(result[RECENT_WORD_OF_THE_DAY_KEY]))\n      }\n    })\n  })\n}\n\nconst setRecentWordOfTheDay = async (wordOfTheDay) => {\n  chrome.storage.local.set({ RECENT_WORD_OF_THE_DAY_KEY: wordOfTheDay })\n}\n\nexport { getRecentWordOfTheDay, setRecentWordOfTheDay }\n","const WORD_OF_THE_DAY_URL = 'https://www.merriam-webster.com/word-of-the-day'\nconst WORD_OF_THE_DAY_QUERY = {\n  word: 'div.quick-def-box div.word-header div.word-and-pronunciation h1',\n  attribute: 'div.quick-def-box div.word-attributes span.main-attr',\n  syllables: 'div.quick-def-box div.word-attributes span.word-syllables',\n  meaning: 'div.wod-article-container div.wod-definition-container p',\n  example:\n    'div.wod-article-container div.wod-definition-container div.wotd-examples div.left-content-box p',\n}\n\nconst getWordOfTheDay = async () => {\n  const wordOfTheDayRequest = new Request(WORD_OF_THE_DAY_URL)\n  const response = await fetch(wordOfTheDayRequest)\n  const responseText = await response.text()\n\n  let parser = new DOMParser()\n  let doc = parser.parseFromString(responseText, 'text/html')\n\n  const innerTextForQuery = (query) => {\n    return doc.querySelector(query).innerHTML\n  }\n\n  const htmlForQuery = (query) => {\n    return doc.querySelector(query)\n  }\n\n  return {\n    word: innerTextForQuery(WORD_OF_THE_DAY_QUERY.word),\n    attribute: innerTextForQuery(WORD_OF_THE_DAY_QUERY.attribute),\n    syllables: innerTextForQuery(WORD_OF_THE_DAY_QUERY.syllables),\n    meaning: innerTextForQuery(WORD_OF_THE_DAY_QUERY.meaning), // TODO: Get the complete meaning\n    example: innerTextForQuery(WORD_OF_THE_DAY_QUERY.example),\n    date: new Date().toDateString(),\n  }\n}\n\nexport { getWordOfTheDay }\n","import { getRecentWordOfTheDay, setRecentWordOfTheDay } from './storage'\nimport { getWordOfTheDay } from './wordy'\n\nconst WORD_MAIN_ID = 'word-main'\nconst WORD_ATTRIBUTE_ID = 'word-attr'\nconst WORD_SYLLABLES_ID = 'word-syllables'\nconst WORD_MEANING_ID = 'word-meaning'\nconst WORD_DATE_ID = 'word-date'\nconst WORD_EXAMPLE_ID = 'word-example'\nconst ARCHIVED = 'Archived'\n\nconst updateUI = (wordOfTheDay) => {\n  document.getElementById(WORD_DATE_ID).innerText = wordOfTheDay.date\n  document.getElementById(WORD_MAIN_ID).innerText = wordOfTheDay.word\n  document.getElementById(WORD_ATTRIBUTE_ID).innerText = wordOfTheDay.attribute\n  document.getElementById(WORD_SYLLABLES_ID).innerText = wordOfTheDay.syllables\n  document.getElementById(WORD_MEANING_ID).innerHTML = wordOfTheDay.meaning\n  document.getElementById(WORD_EXAMPLE_ID).innerHTML = wordOfTheDay.example\n}\n\nasync function onLoad() {\n  const recentWordOfTheDay = await getRecentWordOfTheDay()\n  const todaysDate = new Date().toDateString()\n\n  if (recentWordOfTheDay.date === todaysDate) {\n    updateUI(recentWordOfTheDay)\n    return\n  }\n\n  getWordOfTheDay()\n    .then((wordOfTheDay) => {\n      updateUI(wordOfTheDay)\n      setRecentWordOfTheDay(JSON.stringify(wordOfTheDay))\n    })\n    .catch(() => {\n      recentWordOfTheDay.date = ARCHIVED\n      updateUI(recentWordOfTheDay)\n    })\n}\n\nonLoad()\n"],"names":["$744d2dad838f829a$var$FALLBACK_WORD_OF_THE_DAY","word","attribute","syllables","meaning","example","date","$6e7b0d9c13914567$var$WORD_OF_THE_DAY_QUERY","$b63be9b0371e788c$var$updateUI","wordOfTheDay","document","getElementById","innerText","innerHTML","recentWordOfTheDay","async","Promise","resolve","chrome","storage","local","get","result","undefined","JSON","parse","$744d2dad838f829a$export$528472e185c1779","todaysDate","Date","toDateString","wordOfTheDayRequest","Request","response","fetch","responseText","text","doc","DOMParser","parseFromString","innerTextForQuery","query","querySelector","$6e7b0d9c13914567$export$ca7de21e1bdca6bf","then","set","RECENT_WORD_OF_THE_DAY_KEY","$744d2dad838f829a$export$353ffa70213ed54e","stringify","catch","$b63be9b0371e788c$var$onLoad"],"version":3,"file":"index.128a0a72.js.map"}