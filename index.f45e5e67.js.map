{"mappings":"AAAA,MACMA,EAA2B,CAC/BC,KAAM,UACNC,UAAW,QACXC,UAAW,KACXC,QAAS,6BACTC,QAAS,GACTC,KAAM,IAGFC,OACOC,IAAXC,aAA2CD,IAAnBC,OAAOC,QCV3BC,EACE,kEADFA,EAEO,uDAFPA,EAGO,4DAHPA,EAIK,2DAJLA,EAMF,kGCIEC,EAAYC,IAChBC,SAASC,eALU,aAKmBC,UAAYH,EAAaP,KAC/DQ,SAASC,eAVU,aAUmBC,UAAYH,EAAaZ,KAC/Da,SAASC,eAVe,aAUmBC,UAAYH,EAAaX,UACpEY,SAASC,eAVe,kBAUmBC,UAAYH,EAAaV,UACpEW,SAASC,eAVa,gBAUmBE,UAAYJ,EAAaT,QAClEU,SAASC,eATa,gBASmBE,UAAYJ,EAAaR,2BAIlE,MAAMa,OFRmBC,UAClB,IAAIC,SAASC,IACdd,GACFc,EAAQrB,GAGVS,OAAOC,QAAQY,MAAMC,IAAI,CAnBM,+BAmByBC,SACXhB,IAAvCgB,EAAiC,2BACnCH,EAAQrB,GAERqB,EAAQI,KAAKC,MAAMF,EAAiC,mCEFzBG,GAC3BC,GAAa,IAAIC,MAAOC,eAE1BZ,EAAmBZ,OAASsB,EDdbT,WACnB,MAAMY,EAAsB,IAAIC,QAXN,mDAYpBC,QAAiBC,MAAMH,GACvBI,QAAqBF,EAASG,OAEpC,IACIC,GADS,IAAIC,WACAC,gBAAgBJ,EAAc,aAE/C,MAAMK,EAAqBC,GAClBJ,EAAIK,cAAcD,GAAOxB,UAOlC,MAAO,CACLhB,KAAMuC,EAAkB7B,GACxBT,UAAWsC,EAAkB7B,GAC7BR,UAAWqC,EAAkB7B,GAC7BP,QAASoC,EAAkB7B,GAC3BN,QAASmC,EAAkB7B,GAC3BL,MAAM,IAAIuB,MAAOC,iBCHnBa,GACGC,MAAM/B,IACLD,EAASC,GFFYM,OAAUN,IACnCJ,OAAOC,QAAQY,MAAMuB,IAAI,CAAEC,2BAA4BjC,KEEnDkC,CAAsBtB,KAAKuB,UAAUnC,OAEtCoC,OAAK,KACJ/B,EAAmBZ,KA1BR,WA2BXM,EAASM,MAXXN,EAASM,GAebgC","sources":["src/storage.js","src/wordy.js","src/script.js"],"sourcesContent":["const RECENT_WORD_OF_THE_DAY_KEY = 'RECENT_WORD_OF_THE_DAY_KEY'\nconst FALLBACK_WORD_OF_THE_DAY = {\n  word: 'Offline',\n  attribute: 'Error',\n  syllables: 'ðŸ’­',\n  meaning: 'You are currently offline.',\n  example: '',\n  date: '',\n}\n\nconst isChromeStorageAvailable =\n  chrome !== undefined && chrome.storage !== undefined\n\nconst getRecentWordOfTheDay = async () => {\n  return new Promise((resolve) => {\n    if (isChromeStorageAvailable) {\n      resolve(FALLBACK_WORD_OF_THE_DAY)\n    }\n\n    chrome.storage.local.get([RECENT_WORD_OF_THE_DAY_KEY], (result) => {\n      if (result[RECENT_WORD_OF_THE_DAY_KEY] === undefined) {\n        resolve(FALLBACK_WORD_OF_THE_DAY)\n      } else {\n        resolve(JSON.parse(result[RECENT_WORD_OF_THE_DAY_KEY]))\n      }\n    })\n  })\n}\n\nconst setRecentWordOfTheDay = async (wordOfTheDay) => {\n  chrome.storage.local.set({ RECENT_WORD_OF_THE_DAY_KEY: wordOfTheDay })\n}\n\nexport { getRecentWordOfTheDay, setRecentWordOfTheDay }\n","const WORD_OF_THE_DAY_URL = 'https://www.merriam-webster.com/word-of-the-day'\nconst WORD_OF_THE_DAY_QUERY = {\n  word: 'div.quick-def-box div.word-header div.word-and-pronunciation h1',\n  attribute: 'div.quick-def-box div.word-attributes span.main-attr',\n  syllables: 'div.quick-def-box div.word-attributes span.word-syllables',\n  meaning: 'div.wod-article-container div.wod-definition-container p',\n  example:\n    'div.wod-article-container div.wod-definition-container div.wotd-examples div.left-content-box p',\n}\n\nconst getWordOfTheDay = async () => {\n  const wordOfTheDayRequest = new Request(WORD_OF_THE_DAY_URL)\n  const response = await fetch(wordOfTheDayRequest)\n  const responseText = await response.text()\n\n  let parser = new DOMParser()\n  let doc = parser.parseFromString(responseText, 'text/html')\n\n  const innerTextForQuery = (query) => {\n    return doc.querySelector(query).innerHTML\n  }\n\n  const htmlForQuery = (query) => {\n    return doc.querySelector(query)\n  }\n\n  return {\n    word: innerTextForQuery(WORD_OF_THE_DAY_QUERY.word),\n    attribute: innerTextForQuery(WORD_OF_THE_DAY_QUERY.attribute),\n    syllables: innerTextForQuery(WORD_OF_THE_DAY_QUERY.syllables),\n    meaning: innerTextForQuery(WORD_OF_THE_DAY_QUERY.meaning), // TODO: Get the complete meaning\n    example: innerTextForQuery(WORD_OF_THE_DAY_QUERY.example),\n    date: new Date().toDateString(),\n  }\n}\n\nexport { getWordOfTheDay }\n","import { getRecentWordOfTheDay, setRecentWordOfTheDay } from './storage'\nimport { getWordOfTheDay } from './wordy'\n\nconst WORD_MAIN_ID = 'word-main'\nconst WORD_ATTRIBUTE_ID = 'word-attr'\nconst WORD_SYLLABLES_ID = 'word-syllables'\nconst WORD_MEANING_ID = 'word-meaning'\nconst WORD_DATE_ID = 'word-date'\nconst WORD_EXAMPLE_ID = 'word-example'\nconst ARCHIVED = 'Archived'\n\nconst updateUI = (wordOfTheDay) => {\n  document.getElementById(WORD_DATE_ID).innerText = wordOfTheDay.date\n  document.getElementById(WORD_MAIN_ID).innerText = wordOfTheDay.word\n  document.getElementById(WORD_ATTRIBUTE_ID).innerText = wordOfTheDay.attribute\n  document.getElementById(WORD_SYLLABLES_ID).innerText = wordOfTheDay.syllables\n  document.getElementById(WORD_MEANING_ID).innerHTML = wordOfTheDay.meaning\n  document.getElementById(WORD_EXAMPLE_ID).innerHTML = wordOfTheDay.example\n}\n\nasync function onLoad() {\n  const recentWordOfTheDay = await getRecentWordOfTheDay()\n  const todaysDate = new Date().toDateString()\n\n  if (recentWordOfTheDay.date === todaysDate) {\n    updateUI(recentWordOfTheDay)\n    return\n  }\n\n  getWordOfTheDay()\n    .then((wordOfTheDay) => {\n      updateUI(wordOfTheDay)\n      setRecentWordOfTheDay(JSON.stringify(wordOfTheDay))\n    })\n    .catch(() => {\n      recentWordOfTheDay.date = ARCHIVED\n      updateUI(recentWordOfTheDay)\n    })\n}\n\nonLoad()\n"],"names":["$744d2dad838f829a$var$FALLBACK_WORD_OF_THE_DAY","word","attribute","syllables","meaning","example","date","$744d2dad838f829a$var$isChromeStorageAvailable","undefined","chrome","storage","$6e7b0d9c13914567$var$WORD_OF_THE_DAY_QUERY","$b63be9b0371e788c$var$updateUI","wordOfTheDay","document","getElementById","innerText","innerHTML","recentWordOfTheDay","async","Promise","resolve","local","get","result","JSON","parse","$744d2dad838f829a$export$528472e185c1779","todaysDate","Date","toDateString","wordOfTheDayRequest","Request","response","fetch","responseText","text","doc","DOMParser","parseFromString","innerTextForQuery","query","querySelector","$6e7b0d9c13914567$export$ca7de21e1bdca6bf","then","set","RECENT_WORD_OF_THE_DAY_KEY","$744d2dad838f829a$export$353ffa70213ed54e","stringify","catch","$b63be9b0371e788c$var$onLoad"],"version":3,"file":"index.f45e5e67.js.map"}